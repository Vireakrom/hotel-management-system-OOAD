using System;

namespace HotelManagementSystem.Models
{
    /// <summary>
    /// Housekeeping Task Model
    /// Represents a cleaning or maintenance task for a room
    /// </summary>
    public class HousekeepingTask
    {
        public int TaskId { get; set; }
        public int RoomId { get; set; }
        public string TaskType { get; set; } // Cleaning, Maintenance, Inspection
        public string Status { get; set; } // Pending, InProgress, Completed, Cancelled
        public string Priority { get; set; } // Low, Medium, High, Urgent
        public DateTime ScheduledDate { get; set; }
        public DateTime? StartTime { get; set; }
        public DateTime? EndTime { get; set; }
        public string Notes { get; set; }
        public string CompletionNotes { get; set; }
        public DateTime CreatedDate { get; set; }
        public int CreatedByUserId { get; set; }
        public int? AssignedToUserId { get; set; }

        // Navigation properties (optional - for display purposes)
        public string RoomNumber { get; set; } // Not in DB, populated from join
        public string AssignedToName { get; set; } // Not in DB, populated from join
        public string CreatedByName { get; set; } // Not in DB, populated from join

        /// <summary>
        /// Constructor with default values
        /// </summary>
        public HousekeepingTask()
        {
            Status = "Pending";
            Priority = "Medium";
            CreatedDate = DateTime.Now;
            ScheduledDate = DateTime.Now;
        }

        /// <summary>
        /// Check if task is pending
        /// </summary>
        public bool IsPending()
        {
            return Status == "Pending";
        }

        /// <summary>
        /// Check if task is completed
        /// </summary>
        public bool IsCompleted()
        {
            return Status == "Completed";
        }

        /// <summary>
        /// Check if task is in progress
        /// </summary>
        public bool IsInProgress()
        {
            return Status == "InProgress";
        }

        /// <summary>
        /// Mark task as completed
        /// </summary>
        public void MarkAsCompleted()
        {
            Status = "Completed";
            EndTime = DateTime.Now;
        }

        /// <summary>
        /// Assign task to a user
        /// </summary>
        public void AssignTo(int userId)
        {
            AssignedToUserId = userId;
            Status = "InProgress";
            StartTime = DateTime.Now;
        }
    }
}
